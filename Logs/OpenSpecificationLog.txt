// Форма списка справочника Изделие

&НаКлиенте
Процедура ОткрытьСпецификацию(Команда)
	ТекСтрока = Элементы.Список.ТекущиеДанные;
	Если ТекСтрока <> неопределено Тогда
		Док = ВернутьСпецификацию(ТекСтрока.Ссылка);
		ПараметрыФормы = Новый Структура("Ключ", Док);
		ПараметрыФормы.Вставить("Изделие", ТекСтрока.Ссылка);
		ОткрытьФорму("Документ.Спецификация.ФормаОбъекта", ПараметрыФормы, ЭтаФорма, УникальныйИдентификатор);
	Иначе
		Сообщить("Нужно установить курсор изделия, по которому нужно открыть спецификациию");
	КонецЕсли;	
КонецПроцедуры

&НаСервереБезКонтекста
Функция ВернутьСпецификацию(Изделие)
	Возврат Документы.Спецификация.НайтиПоРеквизиту("Изделие", Изделие);	
КонецФункции;


-------------------------------
// Форма документа Спецификация
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если НЕ ЗначениеЗаполнено(Объект.Изделие) И Параметры.Свойство("Изделие") Тогда
		Объект.Изделие = Параметры.Изделие;	
	КонецЕсли; 	
КонецПроцедуры